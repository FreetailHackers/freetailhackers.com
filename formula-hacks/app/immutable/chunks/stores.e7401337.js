import{w as d}from"./singletons.f080493a.js";function f(){const a=[],o={},{subscribe:u,update:n}=d(a);return{subscribe:u,notify:e=>{const i={message:e,id:Date.now()+Math.random()};return n(t=>[...t,i]),o[i.id]=setTimeout(()=>{n(t=>t.filter(r=>r.id!==i.id))},5e3),i.id},update:(e,i)=>{n(t=>{const r=t.findIndex(s=>s.id===e);return r===-1||(t[r].message=i,clearTimeout(o[e]),o[e]=setTimeout(()=>{n(s=>s.filter(c=>c.id!==e))},5e3)),t})}}}const l=f();export{l as t};